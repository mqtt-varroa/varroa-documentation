\chapter{Concepts}
To understand the workings of Varroa, we will have to take a look at the different parts that make up the system.


\section{Definitions}

\paragraph{Varroa Distributed System}
An orchestration of multiple Varroa Instances consisting of one Commander and at least one Agent.

\paragraph{Commander}
The Commander is a part of the Varroa Distributed System, that parses the scenario, generates chunks and distributes them to the Agents.
Only one Commander exists in a Varroa distributed system.

\paragraph{Agent}
The Agent is part of the Varroa Distributed System.
It receives Chunks from the Commander and passes them to its MQTT-Agents.
A Varrao distributed system contains at least one Agent.

\paragraph{Varroa Instance}
A running Varroa process in a single JVM, can be either Commander or Agent.

\paragraph{MQTT Agent}
Part of the load structure, that takes chunks and executes them with MqttBee clients.

\paragraph{MQTT Client}
A MqttBee client used to execute the Commands that are defined in the Chunks.

\paragraph{Scenario}
A scenario is an abstract representation of a real MQTT-Use-Case.
It defines the topology of all participating MQTT clients and brokers.
The scenario enables the simulation of a large amount of MQTT clients.

\paragraph{Client group}
A group of Clients that share similar behaviour and properties.

\paragraph{Command}
A command is an abstract representation of a work step that must be executed by a MQTT client.
%A command is a particular type of MQTT-Message, for example Connect, Disconnect, Publish or Subscribe.

\paragraph{Chunk}
The scenario is split in Chunks by the Commander and then those Chunk are distributed to the agents.
%A Chunk is a Collection of Information, such as which commands are to be sent to the broker as well as how many clients should perform these commands.
%Another important information, contained in the Chunk is at which rate these commands are to be executed.

%A scenario is a XML-Document which defines a sequence of stages.




\section{Requirements}
\begin{table}
	\begin{tabular}{| l | l | p{5cm} | l |}
		\hline
		\rowcolor{Gray}
		\# & Title & User Story & Importance \\
		\hline
		1 & Transparency & Varroa has to be comprehensible for the user. & Must have high \\
		\hline
		2 & 10.000.000 MQTT Clients & Varroa has to be able to generate a large amount of clients. & Must have high \\
		\hline
		3 & Scalability & Varroa should scale vertically with relatively low scaling costs. & Must have \\
		\hline
		4 & Determinism & Varroa has to work in deterministic ways, meaning it should produce the same result for a Scenario every time. & Must have \\
		\hline
		5 & Distributed & Varroa is a distributed System. & Must have low \\
		\hline
		6 & Usabillity & Varroa has to be easily usable. & Very important \\
		\hline
		7 & Code Quality & Varroa's coding quality should be very high. & Important\\
		\hline
		8 & Stability & Varroa has to run in a stable manner. & Important \\
		\hline
		9 & Resource efficiency & Varroa has to use the available computation and memory resources efficiently. & Important\\
		\hline
		10 & User / Developer Guide & Varroa needs a User / Developer Guide. & Somewhat important \\
		\hline
		11 & Automation capacity & Varroa should be automatable & Somewhat important \\
		\hline
	\end{tabular}
\end{table}